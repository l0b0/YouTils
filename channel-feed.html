<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>YouTube bookmarklets</title>
</head>
<body>
<h1>YouTube bookmarklets</h1>
<p>Use this on a YouTube page to go to the RSS feed of the channel youâ€™re currently on. Works on video pages and the channel page itself.</p>
<ul>
    <li><a href="channel-feed.js">Channel RSS feed</a></li>
</ul>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        var xmlHttpRequest = new XMLHttpRequest();

        Array.prototype.slice.call(document.getElementsByTagName('a')).forEach(function (element) {
            xmlHttpRequest.open('GET', element.href, true);
            xmlHttpRequest.send();
            xmlHttpRequest.onreadystatechange = function () {
                element.setAttribute('href', 'javascript:' + xmlHttpRequest.responseText);
            };
        });
    });
</script>
</body>
</html>
